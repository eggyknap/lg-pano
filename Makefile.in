CXX = @CXX@
VERSION = @VERSION@
CXXFLAGS = -Wall @CXXFLAGS@
LDFLAGS = @LDFLAGS@
PREFIX = @prefix@

all: lg-pano

.cpp.o:
	$(CXX) $(CXXFLAGS) -DPREFIX=\"$(PREFIX)\" -DVERSION=\"$(VERSION)\" -c $<

lg-pano.o: lg-pano.c
	gcc -g -O2 -Wall -I/usr/include/GL -c lg-pano.c

.c.o:
	$(CXX) $(CXXFLAGS) -DPREFIX=\"$(PREFIX)\" -DVERSION=\"$(VERSION)\" -c $<

# read-event built with gcc instead of c++
read-event-c.o: read-event.c
	gcc -g -O2 -Wall -c read-event.c -o read-event-c.o

lg-pano: lg-pano.o read-event-c.o
	gcc lg-pano.o read-event-c.o $(LDFLAGS) -lGL -ljpeg -lSDL -o lg-pano

clean:
	rm -f lg-pano *~ core.* *.o

distclean: clean
	rm -rf config.log config.h config.status Makefile autom4te.cache autoscan.log configure.scan

read-event.o: read-event.h
